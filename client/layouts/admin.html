<template name="admin">
    {{#if currentUser}}
        {{#if isInRole 'admin'}}
           {{> adminView}}
            {{/if}}
    {{else}}
        {{> login}}
    {{/if}}
</template>

<template name="adminView">
    <div id="logo">
        <img src="claas_logo.png" />
    </div>
    <div class="topNav">
        <nav>
            <a class="btn btn-info"  href="/adminNewUser">New User</a>
            <a>|</a>
            <a class="btn btn-success"  href="commissionAnalysis.html">Commissions Analysis</a>
            <a>|</a>
            <a class="btn btn-info" href="/">Back to over view</a>
            <a>|</a>
            <a class="btn btn-default btn-danger shippingApp" href="http://10.40.1.47:3000/" >Switch to Shipping App</a>
        </nav>
    </div>
    <div class="deactivate-button">
         <button type="button" class="btn btn-danger btn-default setInactive">Set Area inactive</button>
    </div>
    <div class="active-supply">
        <h4><strong>Active Supply</strong></h4>
        <table class="table fixed-header">
            <thead>
            <tr>
                <th class="">Supply Area</th>
            </tr>
            </thead>
            <tbody>
            {{#each supplyArea}}
            <tr class="table-size area {{selectedArea}}">
                <th>{{_id}}</th>
            </tr>
            {{/each}}
            </tbody>
        </table>
    </div>
    <div class="reactivate-button">
        <form class="reactivate">
            <button class="btn btn-success btn-default reActivate">Set Area Active</button>
        </form>
    </div>
    <div class="inactive-supply">
        <h4><strong>Inactive Supply</strong></h4>
        <table class="table fixed-header">
            <thead>
            <tr>
                <th class="">Supply Area</th>
            </tr>
            </thead>
            <tbody>
            {{#each inActive}}
                <tr class="table-size inactiveArea {{selectedInactiveArea}}">
                    <th>{{_id}}</th>
                </tr>
            {{/each}}
            </tbody>
        </table>
    </div>
    <div class="add-area">
        <form class="addingArea">
            <label for="addNewArea"></label>
            <input type="text" id="addNewArea" name="addNewArea" placeholder="Add new Area">
            <button type="submit" class="btn btn-success btn-default">Submit new Area</button>
        </form>
    </div>
</template>

<template name="adminNewUser">
    <nav class="topNav">
        <a class="btn btn-default btn-info" href="/admin">Overview Admin</a>
        <a>|</a>
        <a class="btn btn-default btn-success" href="/">Over View</a>
    </nav>
    <div id="logo">
        <img src="claas_logo.png" />
    </div>
    <div class="new-user">
        <h2>New User</h2>
        <form class="adminRegisterNewUser">
            <input class="omInput" name="registerUser" placeholder="User Name">
            <input class="omInput" name="registerPassword" placeholder="Password">
            <select name="userRole" class="omInput omInputButton"  id="selectMe">
                <option>Admin</option>
                <option>Logistics</option>
                <option>Quality PDI</option>
                <option>Repair Team</option>
                <option>Wash Bay</option>
                <option>Loading</option>
                <option>Operation Supervisor</option>
                <option>Team Lead</option>
                <option>Picker</option>
            </select>
            <input type="submit" value="Register" class="adminRegister">
            <p>Roles are</p>
            <p>Admin = Admin or SuperUser</p>
            <p>Logistics = mostly CTD like Mary, Amanda....</p>
            <p>PDI = Quality Guys, the best ever...</p>
            <p>Repair Team = JoAnn's Group for Repair Machines</p>
            <p>Wash Bay = Thomas Nelson's group like Shawn or a temp washing the Machine</p>
            <p>Loading = Thomas Nelson's Group like Shawn, moving the Machine to the Trailer</p>
        </form>
        <h1>{{result}}</h1>
    </div>
    <div class="total-users">
        <h2>Users Total: {{usersTotal}}</h2>
        <br>
        <form class="submit-admin">
            <button type="button" class="btn btn-danger">Send</button>
        </form>
        <table class="blueTable tableAdminPos"  cellpadding="10">
            <thead>
            <tr>
                <th class="adminUserId"><strong>User id</strong></th>
                <th class="adminUser"><strong>User</strong></th>
                <th class="userRole"><strong>Role</strong></th>
                <th class="userCreated"><strong>Date Created</strong></th>
                <th class="userCreatedBy"><strong>Issuer</strong></th>
                <th class="userLastLogin"><strong>Last Login</strong></th>
                <th class="userIP"><strong>Client IP</strong></th>
                <th class="userStatus"><strong>Online</strong></th>
                <th class="userLogOut"><strong>Log out</strong></th>
                <th class="userErase"><strong>Erase User</strong></th>
            </tr>
            </thead>
            <tbody>
            {{#each userResult}}
                <tr class=" {{selectedClass}}">
                    <td class="adminUserId">{{_id}}</td>
                    <td class="adminUser">{{username}}</td>
                    <td class="userRole">{{role}}</td>
                    <td class="userCreated">{{createdAt}}</td>
                    <td class="userCreatedBy">{{createdBy.username}}</td>
                    <td class="userLastLogin">{{lastLogin}}</td>
                    <td class="userIP">{{clientIp}}</td>
                    <td class="userStatus {{getStatusLogin loginStatus}}"
                        style="background-color:{{getStatusLogin loginStatus}}; color:{{getStatusLogin
                                loginStatus}}" >{{services.resume.loginTokens}}</td>
                    <td class="userLogOut">
                        <label>
                            <input class="rTableStyle"
                                   type="checkbox"
                                   name="logOut"
                                   id="logOut"
                                   value="{{_id}}">
                        </label>
                    </td>
                    <td class="userErase">
                        <label>
                            <input class="rTableStyle"
                                   type="checkbox"
                                   name="deleteMe"
                                   value="{{_id}}">
                        </label>
                    </td>
                </tr>
            {{/each}}
            </tbody>
        </table>
    </div>
</template>